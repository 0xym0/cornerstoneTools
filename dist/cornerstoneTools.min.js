/*! cornerstoneTools - v0.0.1 - 2014-04-04 | (c) 2014 Chris Hafey | https://github.com/chafey/cornerstoneTools */
var cornerstoneTools=function(a,b,c){"use strict";function d(a,b){var c=1<<a-1;return 0!==(b&c)}function e(e,f){var g=e.data,h=d(e.which,g.mouseButtonMask);if(h===!0){var i=e.currentTarget,j=e.pageX,k=e.pageY,l=b.pageToImage(i,e.pageX,e.pageY),m=l.x,n=l.y,o=e.pageX,p=e.pageY,q=m,r=n;return a(document).mousemove(function(a){var d=a.pageX-o,e=a.pageY-p,g=b.pageToImage(i,a.pageX,a.pageY),h=g.x-q,l=g.y-r,s={startPageX:j,startPageY:k,startImageX:m,startImageY:n,lastPageX:o,lastPageY:p,lastImageX:q,lastImageY:r,deltaPageX:d,deltaPageY:e,deltaImageX:h,deltaImageY:l,pageX:a.pageX,pageY:a.pageY,imageX:g.x,imageY:g.y,viewport:b.getViewport(i),image:b.getEnabledElement(i).image};return f(i,s),o=a.pageX,p=a.pageY,q=g.x,r=g.y,c.pauseEvent(a)}),a(document).mouseup(function(){a(document).unbind("mousemove"),a(document).unbind("mouseup")}),c.pauseEvent(e)}}function f(b){a(b).unbind("mousedown",e)}function g(b){var c={activate:function(c,d){a(c).unbind("mousedown",b);var e={mouseButtonMask:d};a(c).mousedown(e,b)},disable:f,enable:f,deactivate:f};return c}return void 0===c&&(c={}),c.mouseButtonTool=g,c.onMouseDown=e,c}($,cornerstone,cornerstoneTools),cornerstoneTools=function(a,b,c){"use strict";function d(a,c){var d=a.currentTarget,e=b.pageToImage(d,a.pageX,a.pageY);a=window.event||a;var f=a.wheelDelta||-a.detail||-a.originalEvent.detail,g=Math.max(-1,Math.min(1,f)),h={direction:g,pageX:a.pageX,pageY:a.pageY,imageX:e.x,imageY:e.y,viewport:b.getViewport(d),image:b.getEnabledElement(d).image};c(d,h)}function e(b){a(b).unbind("mousedown",d)}function f(b){var c={activate:function(c){a(c).unbind("mousewheel DOMMouseScroll",b),a(c).on("mousewheel DOMMouseScroll",b)},disable:e,enable:e,deactivate:e};return c}return void 0===c&&(c={}),c.mouseWheelTool=f,c.onMouseWheel=d,c}($,cornerstone,cornerstoneTools),cornerstoneTools=function(a,b,c){"use strict";function d(a,c){a.gesture.preventDefault();var d=a.currentTarget,e=(a.gesture.touches[0].pageX,a.gesture.touches[0].pageY,b.pageToImage(d,a.gesture.touches[0].pageX,a.gesture.touches[0].pageY)),f=e.x,g=e.y,h=(a.gesture.touches[0].pageX,a.gesture.touches[0].pageY,f),i=g;Hammer(document).on("drag",function(){var e=a.gesture.touches[0].pageX,f=a.gesture.touches[0].pageY,g=b.pageToImage(d,e,f),j=g.x-h,k=g.y-i,l={deltaPageX:a.gesture.deltaX,deltaPageY:a.gesture.deltaX,deltaImageX:j,deltaImageY:k,viewport:b.getViewport(d),image:b.getEnabledElement(d).image};c(d,l)}),Hammer(document).on("dragend",function(){Hammer(d).off("drag dragend")})}function e(a){var b={activate:function(b){Hammer(b).off("dragstart",a),Hammer(b).on("dragstart",a)},disable:function(b){Hammer(b).off("dragstart",a)},enable:function(b){Hammer(b).off("dragstart",a)},deactivate:function(b){Hammer(b).off("dragstart",a)}};return b}return void 0===c&&(c={}),c.touchDragTool=e,c.onDrag=d,c}($,cornerstone,cornerstoneTools),cornerstoneTools=function(a,b,c){"use strict";function d(a,c){c.viewport.centerX+=c.deltaPageX/c.viewport.scale,c.viewport.centerY+=c.deltaPageY/c.viewport.scale,b.setViewport(a,c.viewport)}function e(a,c){c.viewport.centerX+=c.deltaPageX/c.viewport.scale,c.viewport.centerY+=c.deltaPageY/c.viewport.scale,b.setViewport(a,c.viewport)}function f(a){c.onMouseDown(a,d)}function g(a){c.onDrag(a,e)}return void 0===c&&(c={}),c.pan=c.mouseButtonTool(f),c.panTouchDrag=c.touchDragTool(g),c}($,cornerstone,cornerstoneTools),cornerstoneTools=function(a,b,c){"use strict";function d(a,b){a.gesture.preventDefault();var c=a.currentTarget,d={};b(c,d)}function e(a){Hammer(a).off("tap",d)}function f(a){var b={activate:function(b){Hammer(b).off("tap",a),Hammer(b).on("tap",a)},disable:e,enable:e,deactivate:e};return b}return void 0===c&&(c={}),c.touchTapTool=f,c.onTap=d,c}($,cornerstone,cornerstoneTools),cornerstoneTools=function(a,b,c){"use strict";function d(a,c){var d=c.image.maxPixelValue-c.image.minPixelValue,e=d/1024;c.viewport.windowWidth+=c.deltaPageX*e,c.viewport.windowCenter+=c.deltaPageY*e,b.setViewport(a,c.viewport)}function e(a){c.onMouseDown(a,d)}return void 0===c&&(c={}),c.wwwc=c.mouseButtonTool(e),c}($,cornerstone,cornerstoneTools),cornerstoneTools=function(a,b,c){"use strict";function d(a,c,d){var e=1.7,f=Math.log(c.scale)/Math.log(e),g=f+d,h=Math.pow(e,g);c.scale=h,b.setViewport(a,c)}function e(a,c){var e=c.deltaPageY/100;d(a,c.viewport,e);var f=b.pageToImage(a,c.startPageX,c.startPageY);c.viewport.centerX-=c.startImageX-f.x,c.viewport.centerY-=c.startImageY-f.y,b.setViewport(a,c.viewport)}function f(a,b){var c=-b.direction/4;d(a,b.viewport,c)}function g(a){c.onMouseWheel(a,f)}function h(a){c.onMouseDown(a,e)}return void 0===c&&(c={}),c.zoom=c.mouseButtonTool(h),c.zoomWheel=c.mouseWheelTool(g),c}($,cornerstone,cornerstoneTools),cornerstoneTools=function(a,b,c){function d(a){return a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.returnValue=!1,!1}return void 0===c&&(c={}),c.pauseEvent=d,c}($,cornerstone,cornerstoneTools);